@using GCRBA.ViewModels
@model EditCompaniesViewModel

@section Scripts 
    {
        <script src="../../Scripts/gcrba.js"></script>
    }

<h2>Edit Location Data for @Model.CurrentCompany.strCompanyName</h2>

@if (Model.CurrentUser.isAdmin == 0)
{
    @Html.Partial("AdminOnly");
}
else
{
    if (Model.NewLocation.ActionType == GCRBA.Models.NewLocation.ActionTypes.InsertSuccessful) 
    {
        <p>@ViewBag.NewLocationStatus</p>
    }
    <div class="container card bg-light w-50 p-4">
       @using (Html.BeginForm(null, null, FormMethod.Post, new { @id = "newLocationForm" }))
        {
            <div class="card-header" id="addNewLocation">Add New Location</div>
            <div id="addNewLocationInput">
                <div>
                    @Html.LabelFor(model => model.NewLocation.StreetAddress, "Address", new { @autofocus = "autofocus", @class = "form-label mt-4" })
                    @Html.TextBoxFor(model => model.NewLocation.StreetAddress, new { @class = "form-control mb-4", @required = "required" })
                </div>
                <div>
                    @Html.LabelFor(model => model.NewLocation.City, "City", new { @class = "form-label", @value = "City" })
                    @Html.TextBoxFor(model => model.NewLocation.City, new { @class = "form-control mb-4", @required = "required" })
                </div>
                <div>
                    <label for="states" class="form-label">State</label>
                    <select name="states" class="form-control mb-4" required>
                        @foreach (var item in Model.States)
                        {
                            <option value="@item.intStateID">@item.strState</option>
                        }
                    </select>
                </div>
                <div>
                    @Html.LabelFor(model => model.NewLocation.Zip, "Zip Code", new { @class = "form-label", @value = "Zip Code" })
                    @Html.TextBoxFor(model => model.NewLocation.Zip, new { @class = "form-control mb-4", @required = "required" })
                </div>
                <div>
                    @Html.LabelFor(model => model.NewLocation.strFullPhone, "Location Phone Number", new { @class = "form-label", @value = "Location Phone Number" })
                    @Html.TextBoxFor(model => model.NewLocation.strFullPhone, new { @class = "form-control mb-4" })
                </div>
                <div>
                    @Html.LabelFor(model => model.NewLocation.BusinessEmail, "Location Email", new { @class = "form-label", @value = "Location Email" })
                    @Html.TextBoxFor(model => model.NewLocation.BusinessEmail, new { @class = "form-control mb-4", @type = "email" })
                </div>


            </div>
            <button id ="editLocationInfoSubmit" name="btnSubmit" value="editLocationInfo">Submit</button>

        }
    </div>
}



